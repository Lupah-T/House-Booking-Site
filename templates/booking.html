{% extends "layout.html" %}

{% block title %}Confirm Booking - HomeHaven{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto py-10 animate-fade-in">
  <div class="text-center mb-10">
    <h1 class="text-4xl font-extrabold text-[#003366] mb-4 uppercase italic">Secure This Room</h1>
    <p class="text-gray-500 font-medium">Provide your transaction details to finalize the booking.</p>
  </div>

  <div class="glass-card p-10 rounded-3xl bg-white shadow-2xl border-t-8 border-[#FFCC00]">
    <form method="POST" action="/booking" class="space-y-8">

      <!-- Selected Property Info -->
      <div class="p-4 bg-[#f8fafc] rounded-xl border border-[#003366]/10 mb-6">
        <h3 class="text-[10px] font-black text-[#003366] uppercase mb-1 tracking-widest">Selected Property</h3>
        <div class="text-lg font-bold text-[#003366]">{{ house.name if house else 'General Application' }}</div>
        <div class="text-xs text-gray-500 font-medium">{{ house.location if house else 'Multiple Areas' }} | {{
          house.house_type if house else 'Any Type' }}</div>
        <input type="hidden" name="house_name" value="{{ house.name if house else 'General Submission' }}">
        <input type="hidden" name="house_id" value="{{ house.id if house else '' }}">
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-2">
          <label class="text-xs font-black text-[#003366] uppercase ml-1 tracking-widest">Full Name</label>
          <input type="text" name="fullname" placeholder="John Doe" required class="input-field" />
        </div>

        <div class="space-y-2">
          <label class="text-xs font-black text-[#003366] uppercase ml-1 tracking-widest">Phone Number</label>
          <input type="text" name="phone" placeholder="0712345678" required class="input-field" />
        </div>
      </div>

      <div class="space-y-2">
        <label class="text-xs font-black text-[#003366] uppercase ml-1 tracking-widest">Email Address</label>
        <input type="email" name="email" placeholder="student@email.com" required class="input-field" />
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-2">
          <label class="text-xs font-black text-[#003366] uppercase ml-1 tracking-widest">Check-in Date</label>
          <input type="date" name="checkin" required class="input-field" />
        </div>

        <div class="space-y-2">
          <label class="text-xs font-black text-[#003366] uppercase ml-1 tracking-widest">Stay Duration (Months)</label>
          <input type="number" name="duration" placeholder="e.g. 6" required class="input-field" />
        </div>
      </div>

      <!-- M-Pesa Section -->
      <div class="p-6 bg-[#f0f4f8] rounded-xl border-2 border-[#003366]/10">
        <div class="flex items-center gap-3 mb-4">
          <div class="w-10 h-10 bg-[#10b981] rounded flex items-center justify-center text-white shadow-md">
            <i class="fas fa-mobile-alt"></i>
          </div>
          <h3 class="font-bold text-[#003366] uppercase text-sm">M-Pesa Payment Verification</h3>
        </div>
        <div class="space-y-4">
          <p class="text-[10px] text-gray-500 leading-relaxed italic uppercase font-bold">Please pay the commitment fee
            to <strong>LupahTech Business No: 123456</strong> and enter the transaction code below.</p>
          <div class="space-y-2">
            <label class="text-[10px] font-black text-[#003366] uppercase ml-1">M-Pesa Transaction Code</label>
            <input type="text" name="mpesa_code" placeholder="E.g. RKX789LMN" required
              class="input-field border-[#10b981]/30 focus:border-[#10b981] font-mono text-center text-lg" />
          </div>
        </div>
      </div>

      <button type="submit" class="w-full btn-primary py-4 rounded shadow-lg flex items-center justify-center gap-3">
        <i class="fas fa-lock"></i>
        SECURE BOOKING NOW
      </button>

      <p class="text-center text-[10px] text-gray-400 px-6 uppercase font-bold">
        Verified by LupahTech Solutions &bull; Official Student Housing Portal
      </p>
    </form>
  </div>
</div>
{% endblock %}